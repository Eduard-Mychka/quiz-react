(this["webpackJsonpquiz-react"]=this["webpackJsonpquiz-react"]||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(9),i=n.n(s),c=(n(76),n(25)),o=n(14),l=n(15),u=n(17),d=n(16),j=n(133),h=(n(77),n(1)),b=function(e){var t=["menu-toggle","far","fas"];return e.isOpen?(t.push("fa-times"),t.push("open")):t.push("fa-bars"),Object(h.jsx)("div",{children:Object(h.jsx)(j.a,{title:"Menu",placement:"right",children:Object(h.jsx)("i",{className:t.join(" "),onClick:e.onToggle})})})},p=(n(82),function(e){return Object(h.jsx)("div",{className:"backdrop",onClick:e.onClick})}),v=(n(83),[{to:"/",label:"Test List",exact:!0},{to:"/auth",label:"Authorization",exact:!1},{to:"/quiz-creator",label:"Creation Test",exact:!1}]),O=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).clickHandler=function(){e.props.onClose()},e}return Object(l.a)(n,[{key:"renderLinks",value:function(){var e=this;return v.map((function(t,n){return Object(h.jsx)("li",{children:Object(h.jsx)(c.c,{to:t.to,exact:t.exact,activeClassName:"active",onClick:e.clickHandler,children:t.label})},n)}))}},{key:"render",value:function(){var e=["drawer"];return this.props.isOpen||e.push("close"),Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)("nav",{className:e.join(" "),children:Object(h.jsx)("ul",{children:this.renderLinks()})}),this.props.isOpen?Object(h.jsx)(p,{onClick:this.props.onClose}):null]})}}]),n}(r.Component),f=(n(85),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={menu:!1},e.toggleMenuHandler=function(){e.setState({menu:!e.state.menu})},e.menuCloseHandler=function(){e.setState({menu:!1})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"Layout",children:[Object(h.jsx)(O,{isOpen:this.state.menu,onClose:this.menuCloseHandler}),Object(h.jsx)(b,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),Object(h.jsx)("main",{children:this.props.children})]})}}]),n}(r.Component)),m=n(7),x=(n(86),function(e){var t=["answer-item"];return e.state&&t.push([e.state]),Object(h.jsx)("li",{className:t.join(" "),onClick:function(){return e.onAnswerClick(e.answer.id)},children:e.answer.text})}),g=(n(87),function(e){return Object(h.jsx)("ul",{className:"answers-list",children:e.answers.map((function(t,n){return Object(h.jsx)(x,{answer:t,onAnswerClick:e.onAnswerClick,state:e.state?e.state[t.id]:null},n)}))})}),w=(n(88),function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Answer all questions"}),Object(h.jsxs)("div",{className:"active-quiz",children:[Object(h.jsxs)("div",{className:"question",children:[Object(h.jsxs)("span",{children:[Object(h.jsxs)("strong",{children:[e.answerNumber,"."]}),"\xa0",e.question]}),Object(h.jsxs)("small",{children:[e.answerNumber," of ",e.quizLength]})]}),Object(h.jsx)(g,{state:e.state,answers:e.answers,onAnswerClick:e.onAnswerClick})]})]})}),z=n(134),q=(n(89),function(e){var t=Object.keys(e.results).reduce((function(t,n){return"success"===e.results[n]&&t++,t}),0);return Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)("h1",{children:"That's all"}),Object(h.jsxs)("div",{className:"finished-quiz",children:[Object(h.jsxs)("div",{className:"finished-quiz-head",children:[Object(h.jsx)("h3",{children:"Your result"}),Object(h.jsxs)("p",{className:"result",children:["Correct answers ",t," of ",e.quiz.length]})]}),Object(h.jsx)("ul",{children:e.quiz.map((function(t,n){var r=["far","error"===e.results[t.id]?"fa-times-circle red":"fa-check-circle green",[e.results[t.id]]];return Object(h.jsxs)("li",{children:[Object(h.jsx)("strong",{children:n+1}),".\xa0",t.question,Object(h.jsx)("i",{className:r.join(" ")})]},n)}))}),Object(h.jsxs)("div",{className:"finished-quiz-btn",children:[Object(h.jsx)(z.a,{className:"me-2",onClick:e.onRetry,color:"primary",size:"small",variant:"contained",children:"Take again"}),Object(h.jsx)(c.b,{to:"/",className:"btn-all-test",children:Object(h.jsx)(z.a,{onClick:e.onRetry,color:"secondary",variant:"contained",size:"small",children:"All tests"})})]})]})]})}),C=(n(90),function(e){return Object(h.jsx)("div",{className:"align-items-center",children:Object(h.jsxs)("div",{className:"loader",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})})}),y=n(49),k=n.n(y),N=n(30),S=n(39),T=n(20),Q=n.n(T),A=n(27),E=n(61),H=n.n(E).a.create({baseURL:"https://quiz-app-e026e-default-rtdb.europe-west1.firebasedatabase.app/"}),I="FETCH_QUIZES_START",_="FETCH_QUIZES_SUCCESS",F="FETCH_QUIZES_ERROR",M="FETCH_QUIZ_SUCCESS",U="QUIZ_SET_STATE",V="QUIZ_NEXT_QUESTION",L="FINISH_QUIZ",R="QUIZ_RETRY";function D(){return{type:I}}function J(e){return{type:_,quizes:e}}function Z(e){return{type:F,error:e}}function B(e){return{type:M,quiz:e}}function Y(e,t){return{type:U,answerState:e,results:t}}function P(e){return function(t,n){var r=n().quiz;if(r.answerState){var a=Object.keys(r.answerState)[0];if("success"===r.answerState[a])return}var s=r.quiz[r.activeQuestion],i=r.results;if(s.rightAnswerId===e){i[s.id]||(i[s.id]="success"),t(Y(Object(S.a)({},e,"success"),i));var c=window.setTimeout((function(){var e;!function(e){return e.activeQuestion+1===e.quiz.length}(r)?t((e=r.activeQuestion+1,{type:V,number:e})):t({type:L}),window.clearTimeout(c)}),800)}else i[s.id]="error",t(Y(Object(S.a)({},e,"error"),i))}}n(111);var X=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchQuizById(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.retryQuiz()}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"containerr",children:[Object(h.jsx)(j.a,{title:"Home",placement:"right",className:"home",children:Object(h.jsx)("a",{href:"/quiz-react/",children:Object(h.jsx)("i",{className:"fas fa-home"})})}),Object(h.jsx)(j.a,{title:"Create Test",placement:"right",className:"create-test",children:Object(h.jsx)("a",{href:"/quiz-creator",children:Object(h.jsx)("i",{className:"fad fa-layer-plus"})})}),Object(h.jsx)("div",{className:"quiz",children:Object(h.jsx)("div",{className:"quiz-wrapper",children:this.props.loading||!this.props.quiz?Object(h.jsx)(C,{}):this.props.isFinished?Object(h.jsx)(k.a,{right:!0,children:Object(h.jsx)(q,{results:this.props.results,quiz:this.props.quiz,onRetry:this.props.retryQuiz})}):Object(h.jsxs)(k.a,{left:!0,children:[Object(h.jsx)(w,{answers:this.props.quiz[this.props.activeQuestion].answers,question:this.props.quiz[this.props.activeQuestion].question,onAnswerClick:this.props.quizAnswerClick,quizLength:this.props.quiz.length,answerNumber:this.props.activeQuestion+1,state:this.props.answerState})," "]})})})]})}}]),n}(r.Component);var G=Object(N.b)((function(e){return{results:e.quiz.results,isFinished:e.quiz.isFinished,activeQuestion:e.quiz.activeQuestion,answerState:e.quiz.answerState,quiz:e.quiz.quiz,loading:e.quiz.loading}}),(function(e){return{fetchQuizById:function(t){return e((n=t,function(){var e=Object(A.a)(Q.a.mark((function e(t){var r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(D()),e.prev=1,e.next=4,H.get("/quizes/".concat(n,".json"));case 4:r=e.sent,a=r.data,t(B(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(Z(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()));var n},quizAnswerClick:function(t){return e(P(t))},retryQuiz:function(){return e({type:R})}}}))(X),W=n(62),K=n.n(W),$=(n(112),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"renderQuizes",value:function(){return this.props.quizes.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(c.c,{to:"/quiz/"+e.id,children:e.name})},e.id)}))}},{key:"componentDidMount",value:function(){this.props.fetchQuizes()}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"quiz-list",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:Object(h.jsx)(K.a,{left:!0,cascade:!0,children:"Test List"})}),this.props.loading&&0!==this.props.quizes.length?Object(h.jsx)(C,{}):Object(h.jsx)("ul",{children:this.renderQuizes()})]})})}}]),n}(r.Component));var ee=Object(N.b)((function(e){return{quizes:e.quiz.quizes,loading:e.quiz.loading}}),(function(e){return{fetchQuizes:function(){return e(function(){var e=Object(A.a)(Q.a.mark((function e(t){var n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(D()),e.prev=1,e.next=4,H.get("/quizes.json");case 4:n=e.sent,r=[],Object.keys(n.data).forEach((function(e,t){r.push({id:e,name:"Test number: ".concat(t+1)})})),t(J(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(Z(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}}}))($),te=n(4);n(113);function ne(e){var t=e.valid,n=e.touched,r=e.shouldValidate;return!t&&r&&n}var re=function(e){var t=e.type||"text",n=["input","option"===e.name?"col-6":""],r="".concat(t,"-").concat(Math.random());return ne(e)&&n.push("invalid"),Object(h.jsxs)("div",{className:n.join(" "),children:[Object(h.jsx)("label",{htmlFor:r,children:e.label}),Object(h.jsx)("input",{type:t,id:r,value:e.value,onChange:e.onChange}),Object(h.jsx)("span",{children:ne(e)?e.errorMessage||"\u0412\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435":null})]})},ae=(n(114),n(63)),se=n.n(ae),ie=n(64),ce=n.n(ie),oe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:"Enter correct - email !",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"Password",errorMessage:"Enter correct - password !",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}},e.loginHandler=Object(A.a)(Q.a.mark((function t(){var n,r;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={email:e.state.formControls.email.value,password:e.state.formControls.password.value,returnSecureToken:!0},t.prev=1,t.next=4,H.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAsTJqiAJ8JTrTzYJ17B-v0pGvM3-4BzY4",n);case 4:r=t.sent,console.log(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),e.registerHandler=Object(A.a)(Q.a.mark((function t(){var n,r;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={email:e.state.formControls.email.value,password:e.state.formControls.password.value,returnSecureToken:!0},t.prev=1,t.next=4,H.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAsTJqiAJ8JTrTzYJ17B-v0pGvM3-4BzY4",n);case 4:r=t.sent,console.log(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),e.submitHandler=function(e){e.preventDefault()},e.onChangeHandler=function(t,n){var r=Object(te.a)({},e.state.formControls),a=Object(te.a)({},r[n]);a.value=t.target.value,a.touched=!0,a.valid=e.validateControl(a.value,a.validation),r[n]=a;var s=!0;Object.keys(r).forEach((function(e){s=r[e].valid&&s})),e.setState({formControls:r,isFormValid:s})},e}return Object(l.a)(n,[{key:"validateControl",value:function(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.email&&(n=se.a.email(e)&&n),t.minLength&&(n=e.length>=t.minLength&&n),n}},{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,n){var r=e.state.formControls[t];return Object(h.jsx)(re,{type:r.type,value:r.value,valid:r.valid,touched:r.touched,label:r.label,errorMessage:r.errorMessage,shouldValidate:!!r.validation,onChange:function(n){return e.onChangeHandler(n,t)}},t+n)}))}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"auth",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(ce.a,{top:!0,children:Object(h.jsxs)("form",{onSubmit:this.submitHandler,className:"auth-form",children:[Object(h.jsx)("h1",{children:"Login Form"}),this.renderInputs(),Object(h.jsxs)("div",{className:"auth-form-btn",children:[Object(h.jsx)(z.a,{className:"w-50 h-25 me-3",onClick:this.loginHandler,color:"primary",size:"small",variant:"contained",disabled:!this.state.isFormValid,children:"Sign In"}),Object(h.jsx)(z.a,{className:"w-50 h-25",onClick:this.registerHandler,color:"secondary",size:"small",variant:"contained",disabled:!this.state.isFormValid,children:"Sign Up"})]})]})})})})}}]),n}(r.Component);function le(e,t){return Object(te.a)(Object(te.a)({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),n}function de(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=e[n].valid&&t);return t}n(115);var je=function(e){var t="".concat(e.label,"-").concat(Math.random());return Object(h.jsxs)("div",{className:"select",children:[Object(h.jsx)("label",{htmlFor:t,children:e.label}),Object(h.jsx)("select",{id:t,value:e.value,onChange:e.onChange,children:e.options.map((function(e,t){return Object(h.jsx)("option",{value:e.value,children:e.text},e.value+t)}))})]})},he=n(65),be=n.n(he);n(116);function pe(e){return le({name:"option",label:"Option ".concat(e),errorMessage:"Value cannot be empty",id:e},{required:!0})}function ve(){return{question:le({label:"Enter a question",errorMessage:"The question cannot be empty"},{required:!0}),option1:pe(1),option2:pe(2),option3:pe(3),option4:pe(4)}}var Oe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={quiz:[],isFormValid:!1,rightAnswerId:1,formControls:ve()},e.submitHandler=function(e){return e.preventDefault()},e.addQuestionHandler=function(t){t.preventDefault();var n=e.state.quiz.concat(),r=n.length+1,a=e.state.formControls,s=a.question,i=a.option1,c=a.option2,o=a.option3,l=a.option4,u={question:s.value,id:r,rightAnswerId:e.state.rightAnswerId,answers:[{text:i.value,id:i.id},{text:c.value,id:c.id},{text:o.value,id:o.id},{text:l.value,id:l.id}]};n.push(u),e.setState({quiz:n,isFormValid:!1,rightAnswerId:1,formControls:ve()})},e.createQuizHandler=function(){var t=Object(A.a)(Q.a.mark((function t(n){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,H.post("/quizes.json",e.state.quiz);case 4:e.setState({quiz:[],isFormValid:!1,rightAnswerId:1,formControls:ve()}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e.changeHandler=function(t,n){var r=Object(te.a)({},e.state.formControls),a=Object(te.a)({},r[n]);a.touched=!0,a.value=t,a.valid=ue(a.value,a.validation),r[n]=a,e.setState({formControls:r,isFormValid:de(r)})},e.selectChangeHandler=function(t){e.setState({rightAnswerId:+t.target.value})},e}return Object(l.a)(n,[{key:"renderControls",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,n){var r=e.state.formControls[t];return Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)(re,{label:r.label,name:r.name,value:r.value,valid:r.valid,shouldValidate:!!r.validation,touched:r.touched,errorMessage:r.errorMessage,onChange:function(n){return e.changeHandler(n.target.value,t)}})},t+n)}))}},{key:"render",value:function(){var e=Object(h.jsx)(je,{label:"Choose the correct answer",value:this.state.rightAnswerId,onChange:this.selectChangeHandler,options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]});return Object(h.jsxs)("div",{className:"quiz-creator",children:[Object(h.jsx)("div",{className:"home",children:Object(h.jsx)("a",{href:"/quiz-react/",children:Object(h.jsx)("i",{className:"fas fa-home"})})}),Object(h.jsx)("div",{className:"containere",children:Object(h.jsx)(be.a,{top:!0,children:Object(h.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(h.jsx)("h1",{children:"Creation Test"}),Object(h.jsx)("div",{className:"row",children:this.renderControls()}),e,Object(h.jsxs)("div",{className:"btn",children:[Object(h.jsx)(z.a,{className:"w-50 h-25 me-3",onClick:this.addQuestionHandler,color:"primary",size:"small",variant:"contained",disabled:!this.state.isFormValid,children:"Add Question"}),Object(h.jsx)(z.a,{className:"w-50 h-25",onClick:this.createQuizHandler,color:"secondary",size:"small",variant:"contained",disabled:0===this.state.quiz.length,children:"Create Test"})]})]})})})]})}}]),n}(r.Component),fe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)(f,{children:Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{path:"/auth",component:oe}),Object(h.jsx)(m.a,{path:"/quiz-creator",component:Oe}),Object(h.jsx)(m.a,{path:"/quiz/:id",component:G}),Object(h.jsx)(m.a,{path:"/",component:ee})]})})}}]),n}(r.Component),me=n(34),xe={quizes:[],loading:!1,error:null,results:{},isFinished:!1,activeQuestion:0,answerState:null,quiz:null};var ge=Object(me.b)({quiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case _:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,quizes:t.quizes});case F:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.error});case M:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,quiz:t.quiz});case U:return Object(te.a)(Object(te.a)({},e),{},{answerState:t.answerState,results:t.results});case L:return Object(te.a)(Object(te.a)({},e),{},{isFinished:!0});case V:return Object(te.a)(Object(te.a)({},e),{},{answerState:null,activeQuestion:t.number});case R:return Object(te.a)(Object(te.a)({},e),{},{activeQuestion:0,answerState:null,isFinished:!1,results:{}});default:return e}}}),we=n(66),ze="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):me.c,qe=Object(me.d)(ge,ze(Object(me.a)(we.a))),Ce=Object(h.jsx)(N.a,{store:qe,children:Object(h.jsx)(c.a,{children:Object(h.jsx)(fe,{})})});i.a.render(Ce,document.getElementById("root"))},76:function(e,t,n){},77:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.755ee731.chunk.js.map